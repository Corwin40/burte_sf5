{% extends 'admin.html.twig' %}

{% block title %}OpenGaia | Administration{% endblock %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}
{%  block javascripts %}
    {{ parent() }}
    <script>
        window.onload = function(){
            const OneArticle = document.getElementById('One_article');
            const OneCatProduct = document.getElementById('One_Cat_Product');
            const SelectValue = document.getElementById('section_contentType').value;
            console.log(SelectValue);

            if (SelectValue == 'One_article'){
                OneArticle.style.display="block";
            }else if (SelectValue == 'One_Cat_Product'){
                OneArticle.style.display="none";
                OneCatProduct.style.display="block";
            }else{
                OneArticle.style.display="none";
                OneCatProduct.style.display="none";
            }

            document.getElementById("section_contentType").addEventListener("change", ShowDiv, false);

            // affiche le champs "Choix d'un article si Content = One_Article
            function ShowDiv(){
                const getSelect = document.getElementById('section_contentType').value;
                if (getSelect == 'One_article'){
                    OneArticle.style.display="block";
                }else if (getSelect == 'One_Cat_Product'){
                    OneArticle.style.display="none";
                    OneCatProduct.style.display="block";
                }else{
                    OneArticle.style.display="none";
                    OneCatProduct.style.display="none";
                }
            }

        }
    </script>
{% endblock %}

{% block content %}
    <div class="container-fluid">
        {{ include('webapp/section/include/_section_content_header.html.twig') }}
        <section id="op_admin_content_body">
            <div class="row g-2">
                <div class="col-2">
                    {% include 'webapp/section/include/_section_content_aside.html.twig' %}
                </div>
                <div class="col-10">
                    <div class="card">
                        <div class="card-header">
                            <h3>Modifier une section</h3>
                        </div>
                        {{ include('webapp/section/_form.html.twig', {'button_label': 'Mettre Ã  jour'}) }}
                    </div>
                </div>
            </div>
        </section>
    </div>
{% endblock %}
